//
// FX Version: fx_5_0
//
// 1 local buffer(s)
//
cbuffer cbPerObject
{
    float4x4 gWorld;                    // Offset:    0, size:   64
    float4x4 gWorldN;                   // Offset:   64, size:   64
    float4x4 gViewProj;                 // Offset:  128, size:   64
    float3  gEyePosW;                   // Offset:  192, size:   12
    float   gFarZ;                      // Offset:  204, size:    4
    float   gFarRangeMod;               // Offset:  208, size:    4
    float   gFarModifier;               // Offset:  212, size:    4
    Material gMaterial;                 // Offset:  224, size:   64
}

//
// 1 groups(s)
//
fxgroup
{
    //
    // 1 technique(s)
    //
    technique11 LightTech
    {
        pass P0
        {
            VertexShader = asm {
                //
                // Generated by Microsoft (R) HLSL Shader Compiler 10.0.10011.16384
                //
                //
                // Buffer Definitions: 
                //
                // cbuffer cbPerObject
                // {
                //
                //   float4x4 gWorld;                   // Offset:    0 Size:    64
                //   float4x4 gWorldN;                  // Offset:   64 Size:    64
                //   float4x4 gViewProj;                // Offset:  128 Size:    64
                //   float3 gEyePosW;                   // Offset:  192 Size:    12 [unused]
                //   float gFarZ;                       // Offset:  204 Size:     4
                //   float gFarRangeMod;                // Offset:  208 Size:     4
                //   float gFarModifier;                // Offset:  212 Size:     4
                //   
                //   struct Material
                //   {
                //       
                //       float4 ambient;                // Offset:  224
                //       float4 diffuse;                // Offset:  240
                //       float4 specular;               // Offset:  256
                //       float4 reflect;                // Offset:  272
                //
                //   } gMaterial;                       // Offset:  224 Size:    64 [unused]
                //
                // }
                //
                //
                // Resource Bindings:
                //
                // Name                                 Type  Format         Dim      HLSL Bind  Count
                // ------------------------------ ---------- ------- ----------- -------------- ------
                // cbPerObject                       cbuffer      NA          NA            cb0      1 
                //
                //
                //
                // Input signature:
                //
                // Name                 Index   Mask Register SysValue  Format   Used
                // -------------------- ----- ------ -------- -------- ------- ------
                // POSITION                 0   xyz         0     NONE   float   xyz 
                // TANGENT                  0   xyz         1     NONE   float   xyz 
                // NORMAL                   0   xyz         2     NONE   float   xyz 
                // TEXCOORD                 0   xy          3     NONE   float   xy  
                //
                //
                // Output signature:
                //
                // Name                 Index   Mask Register SysValue  Format   Used
                // -------------------- ----- ------ -------- -------- ------- ------
                // SV_POSITION              0   xyzw        0      POS   float   xyzw
                // POSITION                 0   xyz         1     NONE   float   xyz 
                // TANGENT                  0   xyz         2     NONE   float   xyz 
                // NORMAL                   0   xyz         3     NONE   float   xyz 
                // TEXCOORD                 0   xy          4     NONE   float   xy  
                //
                vs_5_0
                dcl_globalFlags refactoringAllowed | skipOptimization
                dcl_constantbuffer CB0[14], immediateIndexed
                dcl_input v0.xyz
                dcl_input v1.xyz
                dcl_input v2.xyz
                dcl_input v3.xy
                dcl_output_siv o0.xyzw, position
                dcl_output o1.xyz
                dcl_output o2.xyz
                dcl_output o3.xyz
                dcl_output o4.xy
                dcl_temps 5
                //
                // Initial variable locations:
                //   v0.x <- vin.PosL.x; v0.y <- vin.PosL.y; v0.z <- vin.PosL.z; 
                //   v1.x <- vin.Tan.x; v1.y <- vin.Tan.y; v1.z <- vin.Tan.z; 
                //   v2.x <- vin.Normal.x; v2.y <- vin.Normal.y; v2.z <- vin.Normal.z; 
                //   v3.x <- vin.Tex.x; v3.y <- vin.Tex.y; 
                //   o4.x <- <VS return value>.Tex.x; o4.y <- <VS return value>.Tex.y; 
                //   o3.x <- <VS return value>.Normal.x; o3.y <- <VS return value>.Normal.y; o3.z <- <VS return value>.Normal.z; 
                //   o2.x <- <VS return value>.Tan.x; o2.y <- <VS return value>.Tan.y; o2.z <- <VS return value>.Tan.z; 
                //   o1.x <- <VS return value>.PosW.x; o1.y <- <VS return value>.PosW.y; o1.z <- <VS return value>.PosW.z; 
                //   o0.x <- <VS return value>.PosH.x; o0.y <- <VS return value>.PosH.y; o0.z <- <VS return value>.PosH.z; o0.w <- <VS return value>.PosH.w
                //
                #line 48 "C:\Users\VereWolf\Documents\VereEngine\VereEngine_Build_2017_05_11\VereEngine\VereEngine\FX\PosNormalTexTan.fx"
                mov r0.xyz, v1.xyzx
                mov r0.w, l(1.000000)
                dp4 r1.x, r0.xyzw, cb0[0].xyzw  // r1.x <- vout.Tan.x
                dp4 r1.y, r0.xyzw, cb0[1].xyzw  // r1.y <- vout.Tan.y
                dp4 r1.z, r0.xyzw, cb0[2].xyzw  // r1.z <- vout.Tan.z
                mov r0.xyz, v2.xyzx
                mov r0.w, l(1.000000)
                dp4 r2.x, r0.xyzw, cb0[4].xyzw  // r2.x <- vout.Normal.x
                dp4 r2.y, r0.xyzw, cb0[5].xyzw  // r2.y <- vout.Normal.y
                dp4 r2.z, r0.xyzw, cb0[6].xyzw  // r2.z <- vout.Normal.z
                
                #line 54
                mov r0.xy, v3.xyxx  // r0.x <- vout.Tex.x; r0.y <- vout.Tex.y
                mov r3.xyz, v0.xyzx
                mov r3.w, l(1.000000)
                dp4 r4.x, r3.xyzw, cb0[0].xyzw  // r4.x <- vout.PosW.x
                dp4 r4.y, r3.xyzw, cb0[1].xyzw  // r4.y <- vout.PosW.y
                dp4 r4.z, r3.xyzw, cb0[2].xyzw  // r4.z <- vout.PosW.z
                mov r4.w, l(1.000000)
                dp4 r3.x, r4.xyzw, cb0[8].xyzw  // r3.x <- vout.PosH.x
                dp4 r3.y, r4.xyzw, cb0[9].xyzw  // r3.y <- vout.PosH.y
                dp4 r3.w, r4.xyzw, cb0[11].xyzw  // r3.w <- vout.PosH.w
                mul r0.z, r3.w, cb0[13].y
                add r0.z, r0.z, l(1.000000)
                log r0.z, r0.z
                mul r0.z, r0.z, l(0.693147)
                mul r0.w, cb0[12].w, cb0[13].y
                add r0.w, r0.w, l(1.000000)
                log r0.w, r0.w
                mul r0.w, r0.w, l(0.693147)
                div r0.z, r0.z, r0.w
                mul r0.z, r3.w, r0.z
                mul r0.z, r0.z, cb0[13].x  // r0.z <- vout.PosH.z
                
                #line 63
                mov o0.xyw, r3.xyxw
                mov o0.z, r0.z
                mov o1.xyz, r4.xyzx
                mov o2.xyz, r1.xyzx
                mov o3.xyz, r2.xyzx
                mov o4.xy, r0.xyxx
                ret 
                // Approximately 38 instruction slots used
                            
            };
            PixelShader = asm {
                //
                // Generated by Microsoft (R) HLSL Shader Compiler 10.0.10011.16384
                //
                //
                // Buffer Definitions: 
                //
                // cbuffer cbPerObject
                // {
                //
                //   float4x4 gWorld;                   // Offset:    0 Size:    64 [unused]
                //   float4x4 gWorldN;                  // Offset:   64 Size:    64 [unused]
                //   float4x4 gViewProj;                // Offset:  128 Size:    64 [unused]
                //   float3 gEyePosW;                   // Offset:  192 Size:    12
                //   float gFarZ;                       // Offset:  204 Size:     4 [unused]
                //   float gFarRangeMod;                // Offset:  208 Size:     4 [unused]
                //   float gFarModifier;                // Offset:  212 Size:     4 [unused]
                //   
                //   struct Material
                //   {
                //       
                //       float4 ambient;                // Offset:  224
                //       float4 diffuse;                // Offset:  240
                //       float4 specular;               // Offset:  256
                //       float4 reflect;                // Offset:  272
                //
                //   } gMaterial;                       // Offset:  224 Size:    64
                //
                // }
                //
                //
                // Resource Bindings:
                //
                // Name                                 Type  Format         Dim      HLSL Bind  Count
                // ------------------------------ ---------- ------- ----------- -------------- ------
                // cbPerObject                       cbuffer      NA          NA            cb0      1 
                //
                //
                //
                // Input signature:
                //
                // Name                 Index   Mask Register SysValue  Format   Used
                // -------------------- ----- ------ -------- -------- ------- ------
                // SV_POSITION              0   xyzw        0      POS   float       
                // POSITION                 0   xyz         1     NONE   float       
                // TANGENT                  0   xyz         2     NONE   float       
                // NORMAL                   0   xyz         3     NONE   float   xyz 
                // TEXCOORD                 0   xy          4     NONE   float       
                //
                //
                // Output signature:
                //
                // Name                 Index   Mask Register SysValue  Format   Used
                // -------------------- ----- ------ -------- -------- ------- ------
                // SV_Target                0   xyzw        0   TARGET   float   xyzw
                //
                ps_5_0
                dcl_globalFlags refactoringAllowed | skipOptimization
                dcl_constantbuffer CB0[17], immediateIndexed
                dcl_input_ps linear v3.xyz
                dcl_output o0.xyzw
                dcl_temps 12
                //
                // Initial variable locations:
                //   v0.x <- pin.PosH.x; v0.y <- pin.PosH.y; v0.z <- pin.PosH.z; v0.w <- pin.PosH.w; 
                //   v1.x <- pin.PosW.x; v1.y <- pin.PosW.y; v1.z <- pin.PosW.z; 
                //   v2.x <- pin.Tan.x; v2.y <- pin.Tan.y; v2.z <- pin.Tan.z; 
                //   v3.x <- pin.Normal.x; v3.y <- pin.Normal.y; v3.z <- pin.Normal.z; 
                //   v4.x <- pin.Tex.x; v4.y <- pin.Tex.y; 
                //   o0.x <- <PS return value>.x; o0.y <- <PS return value>.y; o0.z <- <PS return value>.z; o0.w <- <PS return value>.w
                //
                #line 73 "C:\Users\VereWolf\Documents\VereEngine\VereEngine_Build_2017_05_11\VereEngine\VereEngine\FX\PosNormalTexTan.fx"
                mov r0.xyzw, l(0.400000,0.400000,0.400000,1.000000)  // r0.x <- light.ambient.x; r0.y <- light.ambient.y; r0.z <- light.ambient.z; r0.w <- light.ambient.w
                mov r1.xyzw, l(0.500000,0.500000,0.500000,1.000000)  // r1.x <- light.diffuse.x; r1.y <- light.diffuse.y; r1.z <- light.diffuse.z; r1.w <- light.diffuse.w
                mov r2.xyzw, l(0.200000,0.200000,0.200000,1.000000)  // r2.x <- light.specular.x; r2.y <- light.specular.y; r2.z <- light.specular.z; r2.w <- light.specular.w
                mov r3.xyz, l(0.590451,0.550214,0.590451,0)  // r3.x <- light.direction.x; r3.y <- light.direction.y; r3.z <- light.direction.z
                mov r3.w, l(1.000000)  // r3.w <- light.power
                mov r4.xyzw, cb0[14].xyzw  // r4.x <- mat.ambient.x; r4.y <- mat.ambient.y; r4.z <- mat.ambient.z; r4.w <- mat.ambient.w
                mov r5.xyzw, cb0[15].xyzw  // r5.x <- mat.diffuse.x; r5.y <- mat.diffuse.y; r5.z <- mat.diffuse.z; r5.w <- mat.diffuse.w
                mov r6.xyzw, cb0[16].xyzw  // r6.x <- mat.specular.x; r6.y <- mat.specular.y; r6.z <- mat.specular.z; r6.w <- mat.specular.w
                nop 
                mov r4.xyzw, r4.xyzw
                mov r5.xyzw, r5.xyzw
                mov r6.xyzw, r6.xyzw
                mov r0.xyzw, r0.xyzw
                mov r1.xyzw, r1.xyzw
                mov r2.xyzw, r2.xyzw
                mov r3.xyz, r3.xyzx
                mov r3.w, r3.w
                mov r7.xyz, v3.xyzx
                mov r8.xyz, cb0[12].xyzx
                
                #line 131 "C:\Users\VereWolf\Documents\VereEngine\VereEngine_Build_2017_05_11\VereEngine\VereEngine\FX\LightHelper.fx"
                mov r9.xyzw, l(0,0,0,0)  // r9.x <- diffuse.x; r9.y <- diffuse.y; r9.z <- diffuse.z; r9.w <- diffuse.w
                mov r10.xyzw, l(0,0,0,0)  // r10.x <- spec.x; r10.y <- spec.y; r10.z <- spec.z; r10.w <- spec.w
                mov r3.xyz, -r3.xyzx  // r3.x <- lightVec.x; r3.y <- lightVec.y; r3.z <- lightVec.z
                mul r11.xyzw, r4.xyzw, r3.wwww
                mul r0.xyzw, r0.xyzw, r11.xyzw  // r0.x <- ambient.x; r0.y <- ambient.y; r0.z <- ambient.z; r0.w <- ambient.w
                dp3 r4.x, r3.xyzx, r7.xyzx  // r4.x <- diffuseFactor
                mul r4.x, r4.x, r4.x
                
                #line 143
                lt r4.y, l(0.000000), r4.x
                mov r3.xyz, -r3.xyzx
                dp3 r4.z, r3.xyzx, r7.xyzx
                add r4.z, r4.z, r4.z
                mov r4.z, -r4.z
                mul r7.xyz, r4.zzzz, r7.xyzx
                add r3.xyz, r3.xyzx, r7.xyzx  // r3.x <- v.x; r3.y <- v.y; r3.z <- v.z
                dp3 r3.x, r3.xyzx, r8.xyzx
                max r3.x, r3.x, l(0.000000)
                log r3.x, r3.x
                mul r3.x, r3.x, r6.w
                exp r3.x, r3.x  // r3.x <- specFactor
                mul r3.y, r3.w, r4.x
                mul r5.xyzw, r5.xyzw, r3.yyyy
                mul r1.xyzw, r1.xyzw, r5.xyzw  // r1.x <- diffuse.x; r1.y <- diffuse.y; r1.z <- diffuse.z; r1.w <- diffuse.w
                mul r3.x, r3.x, r3.w
                mul r3.xyzw, r6.xyzw, r3.xxxx
                mul r2.xyzw, r2.xyzw, r3.xyzw  // r2.x <- spec.x; r2.y <- spec.y; r2.z <- spec.z; r2.w <- spec.w
                movc r1.xyzw, r4.yyyy, r1.xyzw, r9.xyzw
                movc r2.xyzw, r4.yyyy, r2.xyzw, r10.xyzw
                
                #line 80 "C:\Users\VereWolf\Documents\VereEngine\VereEngine_Build_2017_05_11\VereEngine\VereEngine\FX\PosNormalTexTan.fx"
                mov r0.xyzw, r0.xyzw  // r0.x <- ambient.x; r0.y <- ambient.y; r0.z <- ambient.z; r0.w <- ambient.w
                mov r1.xyzw, r1.xyzw  // r1.x <- diffuse.x; r1.y <- diffuse.y; r1.z <- diffuse.z; r1.w <- diffuse.w
                mov r2.xyzw, r2.xyzw  // r2.x <- spec.x; r2.y <- spec.y; r2.z <- spec.z; r2.w <- spec.w
                
                #line 87
                mov r3.x, l(-0.100000)
                add r3.x, r3.x, r4.w
                lt r3.x, r3.x, l(0.000000)
                and r3.x, r3.x, l(-1)
                discard_nz r3.x
                add r0.xyzw, r0.xyzw, r1.xyzw
                add r0.xyzw, r2.xyzw, r0.xyzw  // r0.x <- ambient.x; r0.y <- ambient.y; r0.z <- ambient.z; r0.w <- ambient.w
                mov o0.xyzw, r0.xyzw
                ret 
                // Approximately 58 instruction slots used
                            
            };
        }

    }

}

